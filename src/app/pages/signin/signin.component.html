<div class="container-fluid background-signin">
    <form class="justify-content-center login-card">
        <mat-card class="mat-elevation-z4">

            <div class="signin-content" *ngIf="isNewAccount == false">
                <mat-card-title>Authentification</mat-card-title>
                <mat-card-content fxLayout="column">
                    <mat-form-field>
                        <input matInput placeholder="Email" type="email" [formControl]="cfv.email.ac" [(ngModel)]="loginRequest.email" name="email" (keyup.enter)="validate()">
                        <mat-error class="mat-error" *ngIf="!cfv.email.ac.valid">
                            {{ cfv.email.ac.getError('msg') }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput placeholder="Mot de passe" type="password" [formControl]="cfv.password.ac" [(ngModel)]="loginRequest.password" name="password" (keyup.enter)="validate()">
                        <mat-error class="mat-error" *ngIf="!cfv.password.ac.valid">
                            {{ cfv.password.ac.getError('msg') }}
                        </mat-error>
                    </mat-form-field>
                    <p class="ml-auto forgot-email"><a mat-flat-button [disableRipple]="true" (click)="forgotPassword()">Mot de passe oublié ?</a></p>
                </mat-card-content>
                <mat-card-actions class="d-flex justify-content-around">
                    <a mat-flat-button color="primary" class="connect" (click)="validate()">Se connecter</a>
                    <a mat-flat-button color="primary" class="connect" (click)="isNewAccountFunction()">Pas de compte ?</a> 
                </mat-card-actions>
            </div>

            <div class="signin-content" *ngIf="isNewAccount == true">
                <mat-card-title>Créer un compte</mat-card-title>
                <mat-card-content fxLayout="column">
                    <mat-form-field>
                        <input matInput autocomplete='new-email' placeholder="Email" type="email" [formControl]="cfv.newEmail.ac" [(ngModel)]="newEmail" name="newEmail" (keyup.enter)="validate()" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
                        <mat-error class="mat-error" *ngIf="!cfv.newEmail.ac.valid">
                            {{ cfv.newEmail.ac.getError('msg') }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput autocomplete='new-password' placeholder="Mot de passe" type="newPassword" [formControl]="cfv.newPassword.ac" [(ngModel)]="newPassword" name="newPassword" (keyup.enter)="validate()">
                        <mat-error class="mat-error" *ngIf="!cfv.newPassword.ac.valid">
                            {{ cfv.newPassword.ac.getError('msg') }}
                        </mat-error>
                    </mat-form-field>
                </mat-card-content>
                <mat-card-actions class="d-flex justify-content-around">
                    <a mat-flat-button color="primary" class="connect" (click)="validate()">Créer mon compte</a>
                    <a mat-flat-button color="primary" class="connect" (click)="isNewAccountFunction()">Retour</a>
                </mat-card-actions>
            </div>
        </mat-card>
        
    </form>
</div>